{"mappings":"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","sources":["src/index.ts","src/api/createSpace/index.ts","src/api/apiBase.ts","src/config.ts","src/api/validateStatus/index.ts","src/api/getEmailGuestList/index.ts","src/api/getMap/index.ts","src/api/setEmailGuestlist/index.ts","src/api/setMap/index.ts"],"sourcesContent":["import type { IGuest } from './types';\nimport { CreateSpaceProps, handleCreateSpace } from './api/createSpace';\nimport { GetEmailGuestlistProps, handleGetEmailGuestlist } from './api/getEmailGuestList';\nimport { GetMapProps, handleGetMap } from './api/getMap';\nimport { handleSetEmailGuestlist, SetEmailGuestlistProps } from './api/setEmailGuestlist';\nimport { SetMapProps, handleSetMap } from './api/setMap';\n\ninterface IGather {\n  createSpace(props: Omit<CreateSpaceProps, 'apiKey'>): Promise<string>;\n  getEmailGuestlist(props: Omit<GetEmailGuestlistProps, 'apiKey'>): Promise<IGuest>;\n  getMap(props: Omit<GetMapProps, 'apiKey'>): Promise<any>;\n  setMap(props: Omit<SetMapProps, 'apiKey'>): Promise<any>;\n  setEmailGuestlist(props: Omit<SetEmailGuestlistProps, 'apiKey'>): Promise<IGuest>;\n}\n\nfunction Gather(initialApiKey: string): IGather {\n  const createSpace: IGather['createSpace'] = async ({ name, map, reason, sourceSpace }) => {\n    const res = await handleCreateSpace({\n      apiKey: initialApiKey,\n      map,\n      name,\n      reason,\n      sourceSpace,\n    });\n\n    return res.data;\n  };\n\n  const getEmailGuestlist: IGather['getEmailGuestlist'] = async ({ spaceId }) => {\n    const res = await handleGetEmailGuestlist({\n      apiKey: initialApiKey,\n      spaceId,\n    });\n\n    return res.data;\n  };\n\n  const getMap: IGather['getMap'] = async ({ mapId, spaceId }) => {\n    const res = await handleGetMap({\n      apiKey: initialApiKey,\n      mapId,\n      spaceId,\n    });\n\n    return res.data;\n  };\n\n  const setMap: IGather['setMap'] = async ({ mapId, spaceId, mapContent }) => {\n    const res = await handleSetMap({\n      apiKey: initialApiKey,\n      mapContent,\n      mapId,\n      spaceId,\n    });\n\n    return res.data;\n  };\n\n  const setEmailGuestlist: IGather['setEmailGuestlist'] = async ({\n    spaceId,\n    guestlist,\n    overwrite,\n  }) => {\n    const res = await handleSetEmailGuestlist({\n      apiKey: initialApiKey,\n      spaceId,\n      guestlist,\n      overwrite,\n    });\n\n    return res.data;\n  };\n\n  return {\n    createSpace,\n    getEmailGuestlist,\n    getMap,\n    setMap,\n    setEmailGuestlist,\n  };\n}\n\nexport const useGather = (apiKey: string) => {\n  return Gather(apiKey);\n};\n\nexport default Gather;\n","import type { MapType } from '../../types';\nimport * as yup from 'yup';\nimport api from '../apiBase';\nimport validateStatus from '../validateStatus';\n\nexport interface CreateSpaceProps {\n  apiKey: string;\n  name: string;\n  map?: MapType;\n  reason?: string;\n  sourceSpace?: string;\n}\n\nconst createSpaceSchema = yup.object({\n  apiKey: yup.string().required().trim(),\n  name: yup.string().required().trim(),\n  map: yup.string().trim(),\n  reason: yup.string().trim(),\n  sourceSpace: yup.string().trim(),\n});\n\nexport const handleCreateSpace = async (props: CreateSpaceProps) => {\n  try {\n    const { apiKey, map, name, reason, sourceSpace } = await createSpaceSchema.validate(props);\n    const data: CreateSpaceProps = {\n      apiKey,\n      name,\n    };\n\n    // Optional params based on API Docs, sourceSpace is optional if map is provided and map is optional when sourceSpace is provided\n    if (sourceSpace) {\n      const formattedSpaceID = sourceSpace.replace(/\\//gi, '\\\\');\n      data.sourceSpace = formattedSpaceID;\n    } else if (!map) {\n      throw new Error('You must provide either a map or a sourceSpace');\n    } else {\n      data.map = map as MapType;\n    }\n\n    // Optional param\n    if (reason) {\n      data.reason = reason;\n    }\n\n    return api.post<string>('createRoom', data, {\n      validateStatus,\n    });\n  } catch (err) {\n    const error: any = err;\n    throw new Error(error.message);\n  }\n};\n","import axios from 'axios';\nimport config from '../config';\n\nexport const baseUrl = config.baseURL;\n\nconst axiosInstance = axios.create({\n  baseURL: baseUrl,\n  headers: {\n    'Content-type': 'application/json',\n    Accept: 'application/json',\n    'Access-Control-Allow-Origin': '*',\n  },\n  responseType: 'json',\n});\n\nexport default axiosInstance;\n","const config = {\n  baseURL: 'https://gather.town/api/',\n};\n\nexport default config;\n","export default function (status: number) {\n  return status >= 200 && status < 300;\n}\n","import type { IGuest } from '../../types';\nimport * as yup from 'yup';\nimport api from '../apiBase';\nimport validateStatus from '../validateStatus';\n\nexport interface GetEmailGuestlistProps {\n  apiKey: string;\n  spaceId: string;\n}\n\nconst getEmailGuestListSchema = yup.object({\n  apiKey: yup.string().required().trim(),\n  spaceId: yup.string().required().trim(),\n});\n\nexport const handleGetEmailGuestlist = async (props: GetEmailGuestlistProps) => {\n  try {\n    const { apiKey, spaceId } = await getEmailGuestListSchema.validate(props);\n    const formattedSpaceID = spaceId.replace(/\\//gi, '\\\\');\n    const _spaceId = '?spaceId=' + formattedSpaceID;\n    const _apiKey = '&apiKey=' + apiKey;\n\n    return api.get<IGuest>(`getEmailGuestlist${_spaceId}${_apiKey}`, {\n      validateStatus,\n    });\n  } catch (err) {\n    const error: any = err;\n    throw new Error(error.message);\n  }\n};\n","import api from '../apiBase';\nimport * as yup from 'yup';\nimport validateStatus from '../validateStatus';\n\nexport interface GetMapProps {\n  apiKey: string;\n  mapId: string;\n  spaceId: string;\n}\n\nconst getMapSchema = yup.object({\n  apiKey: yup.string().required().trim(),\n  mapId: yup.string().required().trim(),\n  spaceId: yup.string().required().trim(),\n});\n\nexport const handleGetMap = async (props: GetMapProps) => {\n  try {\n    const { apiKey, mapId, spaceId } = await getMapSchema.validate(props);\n    const formattedSpaceID = spaceId.replace(/\\//gi, '\\\\');\n    const _spaceId = '?spaceId=' + formattedSpaceID;\n    const _mapId = '&mapId=' + mapId;\n    const _apiKey = '&apiKey=' + apiKey;\n\n    return api.get(`getMap${_spaceId}${_mapId}${_apiKey}`, {\n      validateStatus,\n    });\n  } catch (err) {\n    const error: any = err;\n    throw new Error(error.message);\n  }\n};\n","import type { IGuest } from '../../types';\nimport * as yup from 'yup';\nimport api from '../apiBase';\nimport validateStatus from '../validateStatus';\n\nexport interface SetEmailGuestlistProps {\n  apiKey: string;\n  spaceId: string;\n  guestlist: IGuest;\n  overwrite?: boolean;\n}\n\nconst setEmailGuestListSchema = yup.object({\n  apiKey: yup.string().required().trim(),\n  spaceId: yup.string().required().trim(),\n  guestlist: yup.object().required(),\n  overwrite: yup.boolean().default(false),\n});\n\nexport const handleSetEmailGuestlist = async (props: SetEmailGuestlistProps) => {\n  try {\n    const { apiKey, guestlist, overwrite, spaceId } = await setEmailGuestListSchema.validate(props);\n    const formattedSpaceID = spaceId.replace(/\\//gi, '\\\\');\n    const data = JSON.stringify({\n      apiKey,\n      spaceId: formattedSpaceID,\n      guestlist,\n      overwrite,\n    });\n\n    return api.post<IGuest>('setEmailGuestlist', data, {\n      validateStatus,\n    });\n  } catch (err) {\n    const error: any = err;\n    throw new Error(error.message);\n  }\n};\n","import api from '../apiBase';\nimport * as yup from 'yup';\nimport validateStatus from '../validateStatus';\n\nexport interface SetMapProps {\n  apiKey: string;\n  mapId: string;\n  spaceId: string;\n  mapContent: any;\n}\n\nconst setMapSchema = yup.object({\n  apiKey: yup.string().required().trim(),\n  mapId: yup.string().required().trim(),\n  spaceId: yup.string().required().trim(),\n  mapContent: yup.object().required(),\n});\n\nexport const handleSetMap = async (props: SetMapProps) => {\n  try {\n    const { apiKey, mapContent, mapId, spaceId } = await setMapSchema.validate(props);\n    const formattedSpaceID = spaceId.replace(/\\//gi, '\\\\');\n\n    return api.post(\n      'setMap',\n      {\n        apiKey,\n        spaceId: formattedSpaceID,\n        mapId,\n        mapContent,\n      },\n      {\n        validateStatus,\n      }\n    );\n  } catch (err) {\n    const error: any = err;\n    throw new Error(error.message);\n  }\n};\n"],"names":[],"version":3,"file":"gather.js.map"}